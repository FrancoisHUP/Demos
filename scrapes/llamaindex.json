[
{"url": "https://docs.llamaindex.ai/en/stable/examples/query_engine/knowledge_graph_rag_query_engine/", "text": "Knowledge Graph RAG Query Engine - LlamaIndex Skip to content LlamaIndex Knowledge Graph RAG Query Engine Initializing search Home Learn Use Cases Examples Component Guides Advanced Topics API Reference Open-Source Community LlamaCloud LlamaIndex Home Home High-Level Concepts Installation and Setup How to read these docs Starter Examples Starter Examples Starter Tutorial (OpenAI) Starter Tutorial (Local Models) Discover LlamaIndex Video Series Frequently Asked Questions (FAQ) Starter Tools Starter Tools RAG CLI Learn Learn Using LLMs Building a RAG pipeline Building a RAG pipeline Loading & Ingestion Loading & Ingestion Loading Data (Ingestion) LlamaHub Indexing & Embedding Storing Querying Building an agent Building an agent Building a basic agent Agents with local models Adding RAG to an agent Enhancing with LlamaParse Memory Adding other tools Tracing and Debugging Evaluating Evaluating Evaluating Cost Analysis Cost Analysis Usage Pattern Putting it all Together Putting it all Together Full-stack web application Full-stack web application A Guide to Building a Full-Stack Web App with LLamaIndex A Guide to Building a Full-Stack LlamaIndex Web App with Delphic Q&A Patterns Q&A Patterns A Guide to Extracting Terms and Definitions Chatbots Chatbots How to Build a Chatbot Structured data Structured data Agents Use Cases Use Cases Prompting Question-Answering (RAG) Chatbots Structured Data Extraction Agents Multi-Modal Applications Fine-Tuning Examples Examples Agents Agents ðŸ’¬ðŸ¤– How to Build a Chatbot GPT Builder Demo Building a Multi-PDF Agent using Query Pipelines and HyDE Step-wise, Controllable Agents Controllable Agents for RAG Building an Agent around a Query Pipeline Agentic rag using vertex ai Agentic rag with llamaindex and vertexai managed index Function Calling Anthropic Agent Function Calling AWS Bedrock Converse Agent Chain-of-Abstraction LlamaPack Building a Custom Agent DashScope Agent Tutorial Introspective Agents: Performing Tasks With Reflection Language Agent Tree Search LLM Compiler Agent Cookbook Simple Composable Memory Vector Memory Function Calling Mistral Agent Multi-Document Agents (V1) Multi-Document Agents Build your own OpenAI Agent Context-Augmented OpenAI Agent OpenAI Agent Workarounds for Lengthy Tool Descriptions Single-Turn Multi-Function Calling OpenAI Agents OpenAI Agent + Query Engine Experimental Cookbook OpenAI Agent Query Planning Retrieval-Augmented OpenAI Agent OpenAI Agent with Tool Call Parser OpenAI Agent with Query Engine Tools OpenAI Assistant Agent OpenAI Assistant Advanced Retrieval Cookbook OpenAI agent: specifying a forced function call Benchmarking OpenAI Retrieval API (through Assistant Agent) ReAct Agent - A Simple Intro with Calculator Tools ReAct Agent with Query Engine (RAG) Tools Controlling Agent Reasoning Loop with Return Direct Tools Structured Planning Agent Chat Engines Chat Engines Chat Engine - Best Mode Chat Engine - Condense Plus Context Mode Chat Engine - Condense Question Mode Chat Engine - Context Mode Chat Engine - OpenAI Agent Mode Chat Engine with a Personality âœ¨ Chat Engine - ReAct Agent Mode Chat Engine - Simple Mode REPL Cookbooks Cookbooks GraphRAG Implementation with LlamaIndex GraphRAG Implementation with LlamaIndex - V2 Anthropic Haiku Cookbook Codestral from MistralAI Cookbook Cohere init8 and binary Embeddings Retrieval Evaluation CrewAI + LlamaIndex Cookbook Llama3 Cookbook Llama3 Cookbook with Groq Llama3 Cookbook with Ollama and Replicate MistralAI Cookbook mixedbread Rerank Cookbook Prometheus-2 Cookbook Customization Customization Azure OpenAI ChatGPT HuggingFace LLM - Camel-5b HuggingFace LLM - StableLM Chat Prompts Customization Completion Prompts Customization Streaming Streaming for Chat Engine - Condense Question Mode Data Connectors Data Connectors Chroma Reader DashVector Reader Database Reader DeepLake Reader Discord Reader Faiss Reader Github Repo Reader Google Chat Reader Test Google Docs Reader Google Drive Reader Google Maps Text Search Reader Google Sheets Reader Make Reader Mbox Reader MilvusReader MongoDB Reader MyScale Reader Notion Reader Obsidian Reader Pathway Reader Pinecone Reader Psychic Reader Qdrant Reader Slack Reader Twitter Reader Weaviate Reader Web Page Reader Deplot Reader Demo HTML Tag Reader Simple Directory Reader Parallel Processing SimpleDirectoryReader Simple Directory Reader over a Remote FileSystem Discover LlamaIndex Discover LlamaIndex Discord Thread Management Docstores Docstores Demo: Azure Table Storage as a Docstore Docstore Demo Dynamo DB Docstore Demo Firestore Demo MongoDB Demo Redis Docstore+Index Store Demo Embeddings Embeddings Anyscale Embeddings LangChain Embeddings OpenAI Embeddings Aleph Alpha Embeddings Bedrock Embeddings Embeddings with Clarifai Cloudflare Workers AI Embeddings CohereAI Embeddings Custom Embeddings Dashscope embeddings Databricks Embeddings Deepinfra Elasticsearch Embeddings Qdrant FastEmbed Embeddings Fireworks Embeddings Google Gemini Embeddings Google PaLM Embeddings None Local Embeddings with HuggingFace IBM watsonx.ai Local Embeddings with IPEX-LLM on Intel CPU Local Embeddings with IPEX-LLM on Intel GPU Optimized BGE Embedding Model using IntelÂ® Extension for Transformers Jina 8K Context Window Embeddings Jina Embeddings Llamafile Embeddings LLMRails Embeddings MistralAI Embeddings Mixedbread AI Embeddings Nomic Embedding NVIDIA NIMs Oracle Cloud Infrastructure Generative AI OctoAI Embeddings Ollama Embeddings Local Embeddings with OpenVINO Optimized Embedding Model using Optimum-Intel PremAI Embeddings Interacting with Embeddings deployed in Amazon SageMaker Endpoint with LlamaIndex Text Embedding Inference TextEmbed - Embedding Inference Server Together AI Embeddings Upstage Embeddings Voyage Embeddings Yandexgpt Evaluation Evaluation BEIR Out of Domain Benchmark ðŸš€ RAG/LLM Evaluators - DeepEval HotpotQADistractor Demo QuestionGeneration RAGChecker: A Fine-grained Evaluation Framework For Diagnosing RAG Self Correcting Query Engines - Evaluation & Retry Tonic Validate Evaluators How to use UpTrain with LlamaIndex Answer Relevancy and Context Relevancy Evaluations BatchEvalRunner - Running Multiple Evaluations Correctness Evaluator Faithfulness Evaluator Guideline Evaluator Benchmarking LLM Evaluators On The MT-Bench Human Judgement LabelledPairwiseEvaluatorDataset Benchmarking LLM Evaluators On A Mini MT-Bench (Single Grading) LabelledEvaluatorDataset Evaluating Multi-Modal RAG Pairwise Evaluator Evaluation using Prometheus model Relevancy Evaluator Retrieval Evaluation Embedding Similarity Evaluator Finetuning Finetuning How to Finetune a cross-encoder using LLamaIndex Finetune Embeddings Finetuning an Adapter on Top of any Black-Box Embedding Model None None None Knowledge Distillation For Fine-Tuning A GPT-3.5 Judge (Correctness) Knowledge Distillation For Fine-Tuning A GPT-3.5 Judge (Pairwise) Fine Tuning MistralAI models using Finetuning API Fine Tuning GPT-3.5-Turbo Fine Tuning with Function Calling Fine-tuning a gpt-3.5 ReAct Agent on Better Chain of Thought Custom Cohere Reranker Router Fine-tuning Ingestion Ingestion Advanced Ingestion Pipeline Async Ingestion Pipeline + Metadata Extraction Ingestion Pipeline + Document Management Building a Live RAG Pipeline over Google Drive Files Parallelizing Ingestion Pipeline Redis Ingestion Pipeline LLMs LLMs AI21 Aleph Alpha Anthropic Anyscale Azure AI model inference Azure OpenAI Bedrock Bedrock Converse Clarifai LLM Cleanlab Trustworthy Language Model Cohere DashScope LLMS DataBricks DeepInfra EverlyAI Fireworks Fireworks Function Calling Cookbook Friendli Gemini None None Groq Hugging Face LLMs IBM watsonx.ai IPEX-LLM on Intel CPU IPEX-LLM on Intel GPU Konko Langchain LiteLLM Replicate - Llama 2 13B LlamaCPP ðŸ¦™ x ðŸ¦™ Rap Battle Llama API llamafile LLM Predictor LM Studio LocalAI Maritalk MistralRS LLM MistralAI None ModelScope LLMS Monster API <> LLamaIndex MyMagic AI LLM Neutrino AI NVIDIA NIMs NVIDIA NIMs Nvidia TensorRT-LLM Nvidia Triton Oracle Cloud Infrastructure Generative AI OctoAI Ollama - Llama 3.1 Ollama - Gemma OpenAI OpenAI JSON Mode vs. Function Calling for Data Extraction OpenLLM OpenRouter OpenVINO LLMs Optimum Intel LLMs optimized with IPEX backend AlibabaCloud-PaiEas PaLM Perplexity Portkey Predibase PremAI LlamaIndex Client of Baidu Intelligent Cloud's Qianfan LLM Platform RunGPT Interacting with LLM deployed in Amazon SageMaker Endpoint with LlamaIndex Solar LLM Together AI LLM Unify Upstage Vertex AI Replicate - Vicuna 13B vLLM Xorbits Inference Yi Llama Datasets Llama Datasets Downloading a LlamaDataset from LlamaHub Benchmarking RAG Pipelines With A LabelledRagDatatset LlamaDataset Submission Template Notebook Contributing a LlamaDataset To LlamaHub Llama Hub Llama Hub LlamaHub Demostration Ollama Llama Pack Example Llama Pack - Resume Screener ðŸ“„ Llama Packs Example Low Level Low Level Building Evaluation from Scratch Building an Advanced Fusion Retriever from Scratch Building Data Ingestion from Scratch Building RAG from Scratch (Open-source only!) Building Response Synthesis from Scratch Building Retrieval from Scratch Building a Router from Scratch Building a (Very Simple) Vector Store from Scratch Managed Indexes Managed Indexes Google Generative Language Semantic Retriever PostgresML Managed Index Google Cloud LlamaIndex on Vertex AI for RAG Semantic Retriever Benchmark Vectara Managed Index Managed Index with Zilliz Cloud Pipelines Metadata Extractors Metadata Extractors Entity Metadata Extraction Metadata Extraction and Augmentation w/ Marvin Extracting Metadata for Better Document Indexing and Understanding Automated Metadata Extraction for Better Retrieval + Synthesis Pydantic Extractor Multi-Modal Multi-Modal Chroma Multi-Modal Demo with LlamaIndex Multi-Modal LLM using Anthropic model for image reasoning Multi-Modal LLM using Azure OpenAI GPT-4V model for image reasoning Multi-Modal LLM using DashScope qwen-vl model for image reasoning Multi-Modal LLM using Google's Gemini model for image understanding and build Retrieval Augmented Generation with LlamaIndex Multimodal Structured Outputs: GPT-4o vs. Other GPT-4 Variants GPT4-V Experiments with General, Specific questions and Chain Of Thought (COT) Prompting Technique. Advanced Multi-Modal Retrieval using GPT4V and Multi-Modal Index/Retriever Image to Image Retrieval using CLIP embedding and image correlation reasoning using GPT4V LlaVa Demo with LlamaIndex Retrieval-Augmented Image Captioning [Beta] Multi-modal ReAct Agent Multi-Modal GPT4V Pydantic Program Multi-Modal RAG using Nomic Embed and Anthropic. Multi-Modal Retrieval using GPT text embedding and CLIP image embedding for Wikipedia Articles Multimodal RAG for processing videos using OpenAI GPT4V and LanceDB vectorstore Multimodal Ollama Cookbook Multi-Modal LLM using OpenAI GPT-4V model for image reasoning Multi-Modal LLM using Replicate LlaVa, Fuyu 8B, MiniGPT4 models for image reasoning Semi-structured Image Retrieval Multi-Tenancy Multi-Tenancy Multi-Tenancy RAG with LlamaIndex Node Parsers & Text Splitters Node Parsers & Text Splitters Semantic Chunker Semantic double merging chunking Node Postprocessors Node Postprocessors Cohere Rerank Colbert Rerank File Based Node Parsers FlagEmbeddingReranker Jina Rerank LLM Reranker Demonstration (Great Gatsby) LLM Reranker Demonstration (2021 Lyft 10-k) LongContextReorder Metadata Replacement + Node Sentence Window Mixedbread AI Rerank NVIDIA NIMs Sentence Embedding OptimizerThis postprocessor optimizes token usage by removing sentences that are not relevant to the query (this is done using embeddings).The percentile cutoff is a measure for using the top percentage of relevant sentences. The threshold cutoff can be specified instead, which uses a raw similarity cutoff for picking which sentences to keep. PII Masking Forward/Backward Augmentation Recency Filtering SentenceTransformerRerank Time-Weighted Rerank VoyageAI Rerank OpenVINO Rerank RankGPT Reranker Demonstration (Van Gogh Wiki) RankLLM Reranker Demonstration (Van Gogh Wiki) Object Stores Object Stores The ObjectIndex Class Observability Observability Aim Callback HoneyHive LlamaIndex Tracer Langfuse Callback Handler Llama Debug Handler MLflow OpenInference Callback Handler + Arize Phoenix Observability with OpenLLMetry PromptLayer Handler Token Counting Handler UpTrain Callback Handler Wandb Callback Handler Output Parsers Output Parsers Guardrails Output Parsing Langchain Output Parsing DataFrame Structured Data Extraction Evaporate Demo Function Calling Program for Structured Extraction Guidance Pydantic Program Guidance for Sub-Question Query Engine LLM Pydantic Program LM Format Enforcer Pydantic Program LM Format Enforcer Regular Expression Generation OpenAI Pydantic Program OpenAI function calling for Sub-Question Query Engine Param Optimizer Param Optimizer [WIP] Hyperparameter Optimization for RAG Prompts Prompts Advanced Prompt Techniques (Variable Mappings, Functions) EmotionPrompt in RAG Accessing/Customizing Prompts within Higher-Level Modules \"Optimization by Prompting\" for RAG Prompt Engineering for RAG Property Graph Property Graph Using a Property Graph Store Property Graph Construction with Predefined Schemas Property Graph Index Defining a Custom Property Graph Retriever Neo4j Property Graph Index Query Engines Query Engines Retriever Query Engine with Custom Retrievers - Simple Hybrid Search JSONalyze Query Engine Joint QA Summary Query Engine Retriever Router Query Engine Router Query Engine SQL Auto Vector Query Engine SQL Join Query Engine SQL Router Query Engine CitationQueryEngine Cogniswitch query engine Defining a Custom Query Engine Ensemble Query Engine Guide FLARE Query Engine JSON Query Engine Knowledge Graph Query Engine Knowledge Graph RAG Query Engine Knowledge Graph RAG Query Engine Table of contents Graph RAG GraphStore backed RAG vs VectorStore RAG Why Knowledge Graph RAG Query Engine OpenAI Azure Prepare for NebulaGraph Perform Graph RAG Query Include nl2graphquery as Context in Graph RAG Structured Hierarchical Retrieval Pandas Query Engine Recursive Retriever + Query Engine Demo [Beta] Text-to-SQL with PGVector Query Engine with Pydantic Outputs Recursive Retriever + Document Agents Joint Tabular/Semantic QA over Tesla 10K Sub Question Query Engine Query Pipeline Query Pipeline An Introduction to LlamaIndex Query Pipelines Query Pipeline with Async/Parallel Execution Query Pipeline Chat Engine Query Pipeline over Pandas DataFrames Query Pipeline with Routing Query Pipeline for Advanced Text-to-SQL Query Transformations Query Transformations HyDE Query Transform Multi-Step Query Engine Query Transform Cookbook Response Synthesizers Response Synthesizers Pydantic Tree Summarize Stress-Testing Long Context LLMs with a Recall Task Pydantic Tree Summarize Refine Refine with Structured Answer Filtering Tree Summarize Retrievers Retrievers Auto Merging Retriever Comparing Methods for Structured Retrieval (Auto-Retrieval vs. Recursive Retrieval) Bedrock (Knowledge Bases) BM25 Retriever Composable Objects Activeloop Deep Memory Ensemble Retrieval Guide Chunk + Document Hybrid Retrieval with Long-Context Embeddings (Together.ai) Pathway Retriever Reciprocal Rerank Fusion Retriever Recursive Retriever + Node References + Braintrust Recursive Retriever + Node References Relative Score Fusion and Distribution-Based Score Fusion Router Retriever Simple Fusion Retriever Auto-Retrieval from a Vectara Index Vertex AI Search Retriever VideoDB Retriever You.com Retriever Tools Tools OnDemandLoaderTool Tutorial Azure Code Interpreter Tool Spec Cassandra Database Tools Evaluation Query Engine Tool Transforms Transforms Transforms Evaluation Use Cases Use Cases 10K Analysis 10Q Analysis Email Data Extraction Github Issue Analysis Vector Stores Vector Stores AWSDocDBDemo Alibaba Cloud OpenSearch Vector Store Amazon Neptune - Neptune Analytics vector store AnalyticDB Astra DB Simple Vector Store - Async Index Creation Awadb Vector Store Azure AI Search Azure CosmosDB MongoDB Vector Store Bagel Vector Store Bagel Network Baidu VectorDB Cassandra Vector Store Chroma + Fireworks + Nomic with Matryoshka embedding Chroma ClickHouse Vector Store CouchbaseVectorStoreDemo DashVector Vector Store Databricks Vector Search Deep Lake Vector Store Quickstart DocArray Hnsw Vector Store DocArray InMemory Vector Store DuckDB Elasticsearch Vector Store Elasticsearch Epsilla Vector Store Faiss Vector Store Firestore Vector Store Hologres Jaguar Vector Store Advanced RAG with temporal filters using LlamaIndex and KDB.AI vector store LanceDB Vector Store Lantern Vector Store (auto-retriever) Lantern Vector Store Lindorm Metal Vector Store Milvus Vector Store With Hybrid Retrieval Milvus Vector Store MilvusOperatorFunctionDemo MongoDBAtlasVectorSearch now make sure you create the search index with the right name here MongoDBAtlasVectorSearchRAGOpenAI MyScale Vector Store Neo4j vector store Opensearch Vector Store pgvecto.rs Pinecone Vector Store - Hybrid Search Pinecone Vector Store Qdrant Vector Store Qdrant Vector Store - Metadata Filter Qdrant Vector Store - Default Qdrant Filters Redis Vector Store Relyt Rockset Vector Store Simple Vector Store Local Llama2 + VectorStoreIndex Llama2 + VectorStoreIndex Simple Vector Stores - Maximum Marginal Relevance Retrieval S3/R2 Storage Supabase Vector Store Tair Vector Store Tencent Cloud VectorDB TiDB Vector Store Timescale Vector Store (PostgreSQL) txtai Vector Store Typesense Vector Store Upstash Vector Store VearchDemo Google Vertex AI Vector Search Vespa Vector Store demo Weaviate Vector Store - Hybrid Search Weaviate Vector Store Auto-Retrieval from a Weaviate Vector Database Weaviate Vector Store Metadata Filter Zep Vector Store Auto-Retrieval from a Vector Database Chroma Vector Store Auto-Retrieval from a Vector Database Guide: Using Vector Store Index with Existing Pinecone Vector Store Guide: Using Vector Store Index with Existing Weaviate Vector Store Neo4j Vector Store - Metadata Filter A Simple to Advanced Guide with Auto-Retrieval (with Pinecone + Arize Phoenix) Pinecone Vector Store - Metadata Filter Postgres Vector Store Hybrid Search with Qdrant BM42 Qdrant Hybrid Search Workflow Workflow Workflow for a Function Calling Agent RAG Workflow with Reranking Workflow for a ReAct Agent Reflection Workflow for Structured Outputs Component Guides Component Guides Models Models LLMs LLMs Using LLMs Standalone Usage Customizing LLMs Available LLM Integrations Embeddings Multi Modal Prompts Prompts Usage pattern Loading Loading Documents and Nodes Documents and Nodes Using Documents Using Nodes Metadata Extraction SimpleDirectoryReader Data Connectors Data Connectors Usage Pattern LlamaParse Module Guides Node Parsers / Text Splitters Node Parsers / Text Splitters Node Parser Modules Ingestion Pipeline Ingestion Pipeline Transformations Indexing Indexing Index Guide Vector Store Index Property Graph Index Document Management LlamaCloud Metadata Extraction Modules Storing Storing Vector Stores Document Stores Index Stores Chat Stores Key-Value Stores Persisting & Loading Data Customizing Storage Querying Querying Query Engines Query Engines Usage Pattern Response Modes Streaming Module Guides Supporting Modules Chat Engines Chat Engines Usage Pattern Module Guides Retrieval Retrieval Retriever Modules Retriever Modes Node Postprocessors Node Postprocessors Node Postprocessor Modules Response Synthesis Response Synthesis Response Synthesis Modules Routing Workflows Query Pipelines Query Pipelines Usage Pattern Module Guides Module Usage Structured Outputs Structured Outputs Output Parsing Modules (Deprecated) Query Engines + Pydantic Outputs Pydantic Program Agents Agents Usage Pattern Lower-Level Agent API Module Guides Tools Evaluation Evaluation Usage Pattern (Response Evaluation) Usage Pattern (Retrieval) Modules LlamaDatasets LlamaDatasets Contributing A LabelledRagDataset Evaluating With LabelledRagDataset's Evaluating Evaluators with LabelledEvaluatorDataset's Observability Observability Instrumentation Settings Advanced Topics Advanced Topics Building Performant RAG Applications for Production Basic Strategies Agentic strategies Retrieval Retrieval Advanced Retrieval Strategies Query Transformations Evaluation Evaluation Component Wise Evaluation End-to-End Evaluation Evaluation Fine-Tuning Writing Custom Modules Building RAG from Scratch (Lower-Level) API Reference API Reference Agents Agents Coa Dashscope Introspective Lats Llm compiler Openai Openai legacy React Callbacks Callbacks Agentops Aim Argilla Arize phoenix Deepeval Honeyhive Langfuse Literalai Llama debug Openinference Promptlayer Token counter Uptrain Wandb Chat Engines Chat Engines Condense plus context Condense question Context Simple Embeddings Embeddings Adapter Alephalpha Anyscale Azure inference Azure openai Bedrock Clarifai Clip Cloudflare workersai Cohere Dashscope Databricks Deepinfra Elasticsearch Fastembed Fireworks Gemini Google None Huggingface Huggingface api Huggingface itrex Huggingface openvino Huggingface optimum Huggingface optimum intel Ibm Instructor Ipex llm Jinaai Langchain Litellm Llamafile Llm rails Mistralai Mixedbreadai Nomic Nvidia Oci genai Octoai Ollama Openai Premai Sagemaker endpoint Text embeddings inference Textembed Together Upstage Vertex Voyageai Yandexgpt Evaluation Evaluation Answer relevancy Context relevancy Correctness Dataset generation Faithfullness Guideline Metrics Multi modal Pairwise comparison Query response Response Retrieval Semantic similarity Tonic validate Indexes Indexes Colbert Dashscope Document summary Google Keyword Knowledge graph Llama cloud Postgresml Property graph Summary Tree Vectara Vector Vertexai Zilliz Ingestion Ingestion Instrumentation Instrumentation Event handlers Event types Span handlers Span types LLMs LLMs None Ai21 Alephalpha Anthropic Anyscale Azure inference Azure openai Bedrock Bedrock converse Clarifai Cleanlab Cohere Custom llm Dashscope Databricks Deepinfra Everlyai Fireworks Friendli Gemini None Groq Huggingface Huggingface api Ibm Ipex llm Konko Langchain Litellm Llama api Llama cpp Llamafile Lmstudio Localai Maritalk Mistral rs Mistralai Mlx Modelscope Monsterapi Mymagic Neutrino Nvidia Nvidia tensorrt Nvidia triton Oci genai Octoai Ollama Openai Openai like Openllm Openrouter Openvino Optimum intel Paieas Palm Perplexity Portkey Predibase Premai Qianfan Replicate Rungpt Sagemaker endpoint Solar Text generation inference Together Unify Upstage Vertex Vllm Xinference Yi You Llama Datasets Llama Datasets Llama Packs Llama Packs Agent search retriever Agents coa Agents lats Agents llm compiler Amazon product extraction Arize phoenix query engine Auto merging retriever Chroma autoretrieval Code hierarchy Cogniswitch agent Cohere citation chat Corrective rag Deeplake deepmemory retriever Deeplake multimodal retrieval Dense x retrieval Diff private simple dataset Docugami kg rag Evaluator benchmarker Finchat Fusion retriever Fuzzy citation Gmail openai agent Gradio agent chat Gradio react agent chatbot Infer retrieve rerank Koda retriever Llama dataset metadata Llama guard moderator Llava completion Longrag Mixture of agents Multi document agents Multi tenancy rag Multidoc autoretrieval Nebulagraph query engine Neo4j query engine Node parser semantic chunking Ollama query engine Panel chatbot Query understanding agent Raft dataset Rag cli local Rag evaluator Rag fusion query pipeline Ragatouille retriever Raptor Recursive retriever Redis ingestion pipeline Resume screener Retry engine weaviate Searchain Secgpt Self discover Self rag Sentence window retriever Snowflake query engine Stock market data query engine Streamlit chatbot Sub question weaviate Subdoc summary Tables Timescale vector autoretrieval Trulens eval packs Vanna Vectara rag Voyage query engine Zenguard Zephyr query engine Memory Memory Chat memory buffer Simple composable memory Vector memory Metadata Extractors Metadata Extractors Entity Keyword None Marvin Pydantic Question Relik Summary Title Multi-Modal LLMs Multi-Modal LLMs Anthropic Azure openai Dashscope Gemini Ollama Openai Replicate Node Parsers & Text Splitters Node Parsers & Text Splitters Dashscope Code Hierarchical Html Json Langchain Markdown Markdown element Semantic splitter Sentence splitter Sentence window Token text splitter Unstructured element Node Postprocessors Node Postprocessors NER PII PII Auto prev next Cohere rerank Colbert rerank Dashscope rerank Embedding recency Fixed recency Flag embedding reranker Jinaai rerank Keyword Llm rerank Long context reorder Longllmlingua Metadata replacement Mixedbreadai rerank Nvidia rerank Openvino rerank Presidio Prev next Rankgpt rerank Rankllm rerank Sbert rerank Sentence optimizer Similarity Tei rerank Time weighted Voyageai rerank Object Stores Object Stores Output Parsers Output Parsers Guardrails Langchain Pydantic Selection Programs Programs Evaporate Guidance Llm text completion Lmformatenforcer Multi modal Openai Prompts Prompts Query Engines Query Engines FLARE JSONalayze NL SQL table PGVector SQL SQL join SQL table retriever Citation Cogniswitch Custom Knowledge graph Multi step Pandas Retriever Retriever router Retry Router Simple multi modal Sub question Tool retriever router Transform Query Pipeline Query Pipeline Agent Arg pack Custom Function Input Llm Multi modal Object Output parser Postprocessor Prompt Query engine Query transform Retriever Router Synthesizer Tool runner Question Generators Question Generators Guidance Llm question gen Openai Readers Readers Agent search Airbyte cdk Airbyte gong Airbyte hubspot Airbyte salesforce Airbyte shopify Airbyte stripe Airbyte typeform Airbyte zendesk support Airtable Apify Arango db Arxiv Asana Assemblyai Astra db Athena Awadb Azcognitive search Azstorage blob Azure devops Bagel Bilibili Bitbucket Boarddocs Box Chatgpt plugin Chroma Clickhouse Confluence Couchbase Couchdb Dad jokes Dashscope Dashvector Database Deeplake Discord Docstring walker Docugami Earnings call transcript Elasticsearch Faiss Feedly rss Feishu docs Feishu wiki File Firebase realtimedb Firestore Gcs Genius Github Gitlab Google Gpt repo Graphdb cypher Graphql Guru Hatena blog Hive Hubspot Huggingface fs Hwp Iceberg Imdb review Intercom Jaguar Jira Joplin Json Kaltura esearch Kibela Lilac Linear Llama parse Macrometa gdn Make com Mangadex Mangoapps guides Maps Mbox Memos Metal Microsoft onedrive Microsoft outlook Microsoft sharepoint Milvus Minio Mondaydotcom Mongodb Myscale Notion Nougat ocr Obsidian Openalex Openapi Opendal Opensearch Pandas ai Papers Patentsview Pathway Pdb Pdf marker Pdf table Pebblo None Preprocess Psychic Qdrant Rayyan Readme Readwise Reddit Remote Remote depth S3 Sec filings Semanticscholar Simple directory reader Singlestore Slack Smart pdf loader Snowflake Snscrape twitter Spotify Stackoverflow Steamship String iterable Stripe docs Structured data Telegram Toggl Trello Twitter Txtai Upstage Weather Weaviate Web Whatsapp Wikipedia Wordlift Wordpress Youtube metadata Youtube transcript Zendesk Zep Zulip Response Synthesizers Response Synthesizers Accumulate Compact accumulate Compact and refine Generation Google Refine Simple summarize Tree summarize Retrievers Retrievers Auto merging Bedrock Bm25 Duckdb retriever Keyword Knowledge graph Mongodb atlas bm25 retriever Pathway Query fusion Recursive Router Sql Summary Transform Tree Vector Vertexai search Videodb You Schema Schema Storage Storage Chat Store Chat Store Azure Redis Simple Docstore Docstore Azure Dynamodb Elasticsearch Firestore Mongodb Postgres Redis Simple Graph Stores Graph Stores Falkordb Kuzu Nebula Neo4j Neptune Simple Tidb Index Store Index Store Azure Dynamodb Elasticsearch Firestore Mongodb Postgres Redis Simple Kvstore Kvstore Azure Dynamodb Elasticsearch Firestore Mongodb Postgres Redis S3 Simple Storage Storage Storage context Vector Store Vector Store Alibabacloud opensearch Analyticdb Astra db Awadb Awsdocdb Azureaisearch Azurecosmosmongo Bagel Baiduvectordb Cassandra Chatgpt plugin Chroma Clickhouse Couchbase Dashvector Databricks Deeplake Docarray Duckdb Dynamodb Elasticsearch Epsilla Faiss Firestore Google Hologres Jaguar Kdbai Lancedb Lantern Lindorm Metal Milvus Mongodb Myscale Neo4jvector Neptune Opensearch Pgvecto rs Pinecone Postgres Qdrant Redis Relyt Rocksetdb Simple Singlestoredb Supabase Tair Tencentvectordb Tidbvector Timescalevector Txtai Typesense Upstash Vearch Vertexaivectorsearch Vespa Weaviate Wordlift Zep Tools Tools Arxiv Azure code interpreter Azure cv Azure speech Azure translate Bing search Brave search Cassandra Chatgpt plugin Code interpreter Cogniswitch Database Duckduckgo Exa Finance Function Google Graphql Ionic shopping Jina Load and search Metaphor Multion Neo4j Notion Ondemand loader Openai Openapi Passio nutrition ai Playgrounds Python file Query engine Query plan Requests Retriever Salesforce Shopify Slack Tavily research Text to image Tool spec Vector db Waii Weather Wikipedia Wolfram alpha Yahoo finance Yelp Zapier Workflow Workflow Context Events Workflow Open-Source Community Open-Source Community Integrations Full Stack Projects Community FAQ Community FAQ Chat Engines Documents and Nodes Embeddings Large Language Models Query Engines Vector Database Contributing Contributing Code Docs Changelog Presentations Upgrading to v0.10.x Deprecated Terms LlamaCloud LlamaCloud LlamaParse Table of contents Graph RAG GraphStore backed RAG vs VectorStore RAG Why Knowledge Graph RAG Query Engine OpenAI Azure Prepare for NebulaGraph Perform Graph RAG Query Include nl2graphquery as Context in Graph RAG Knowledge Graph RAG Query Engine Â¶ Graph RAG Â¶ Graph RAG is an Knowledge-enabled RAG approach to retrieve information from Knowledge Graph on given task. Typically, this is to build context based on entities' SubGraph related to the task. GraphStore backed RAG vs VectorStore RAG Â¶ As we compared how Graph RAG helps in some use cases in this tutorial , it's shown Knowledge Graph as the unique format of information could mitigate several issues caused by the nature of the \"split and embedding\" RAG approach. Why Knowledge Graph RAG Query Engine Â¶ In Llama Index, there are two scenarios we could apply Graph RAG: Build Knowledge Graph from documents with Llama Index, with LLM or even local models , to do this, we should go for KnowledgeGraphIndex . Leveraging existing Knowledge Graph, in this case, we should use KnowledgeGraphRAGQueryEngine . Note, the third query engine that's related to KG in Llama Index is NL2GraphQuery or Text2Cypher , for either exiting KG or not, it could be done with KnowledgeGraphQueryEngine . Before we start the Knowledge Graph RAG QueryEngine demo, let's first get ready for basic preparation of Llama Index. If you're opening this Notebook on colab, you will probably need to install LlamaIndex ðŸ¦™. InÂ [Â ]: Copied! % pip install llama - index - llms - azure - openai % pip install llama - index - graph - stores - nebula % pip install llama - index - llms - openai % pip install llama - index - embeddings - azure - openai %pip install llama-index-llms-azure-openai\n%pip install llama-index-graph-stores-nebula\n%pip install llama-index-llms-openai\n%pip install llama-index-embeddings-azure-openai InÂ [Â ]: Copied! ! pip install llama - index !pip install llama-index OpenAI Â¶ InÂ [Â ]: Copied! # For OpenAI import os os . environ [ \"OPENAI_API_KEY\" ] = \"sk-...\" import logging import sys logging . basicConfig ( stream = sys . stdout , level = logging . INFO ) # logging.DEBUG for more verbose output # define LLM from llama_index.llms.openai import OpenAI from llama_index.core import Settings Settings . llm = OpenAI ( temperature = 0 , model = \"gpt-3.5-turbo\" ) Settings . chunk_size = 512 # For OpenAI\n\nimport os\n\nos.environ[\"OPENAI_API_KEY\"] = \"sk-...\"\n\nimport logging\nimport sys\n\nlogging.basicConfig(\n    stream=sys.stdout, level=logging.INFO\n)  # logging.DEBUG for more verbose output\n\n\n# define LLM\nfrom llama_index.llms.openai import OpenAI\nfrom llama_index.core import Settings\n\nSettings.llm = OpenAI(temperature=0, model=\"gpt-3.5-turbo\")\nSettings.chunk_size = 512 Azure Â¶ InÂ [Â ]: Copied! from llama_index.llms.azure_openai import AzureOpenAI from llama_index.embeddings.azure_openai import AzureOpenAIEmbedding # For Azure OpenAI api_key = \"<api-key>\" azure_endpoint = \"https://<your-resource-name>.openai.azure.com/\" api_version = \"2023-07-01-preview\" llm = AzureOpenAI ( model = \"gpt-35-turbo-16k\" , deployment_name = \"my-custom-llm\" , api_key = api_key , azure_endpoint = azure_endpoint , api_version = api_version , ) # You need to deploy your own embedding model as well as your own chat completion model embed_model = AzureOpenAIEmbedding ( model = \"text-embedding-ada-002\" , deployment_name = \"my-custom-embedding\" , api_key = api_key , azure_endpoint = azure_endpoint , api_version = api_version , ) from llama_index.llms.azure_openai import AzureOpenAI\nfrom llama_index.embeddings.azure_openai import AzureOpenAIEmbedding\n\n# For Azure OpenAI\napi_key = \" \"\nazure_endpoint = \"https:// .openai.azure.com/\"\napi_version = \"2023-07-01-preview\"\n\nllm = AzureOpenAI(\n    model=\"gpt-35-turbo-16k\",\n    deployment_name=\"my-custom-llm\",\n    api_key=api_key,\n    azure_endpoint=azure_endpoint,\n    api_version=api_version,\n)\n\n# You need to deploy your own embedding model as well as your own chat completion model\nembed_model = AzureOpenAIEmbedding(\n    model=\"text-embedding-ada-002\",\n    deployment_name=\"my-custom-embedding\",\n    api_key=api_key,\n    azure_endpoint=azure_endpoint,\n    api_version=api_version,\n) InÂ [Â ]: Copied! from llama_index.core import Settings Settings . llm = llm Settings . embed_model = embed_model Settings . chunk_size = 512 from llama_index.core import Settings\n\nSettings.llm = llm\nSettings.embed_model = embed_model\nSettings.chunk_size = 512 Prepare for NebulaGraph Â¶ We take NebulaGraphStore as an example in this demo, thus before next step to perform Graph RAG on existing KG, let's ensure we have a running NebulaGraph with defined data schema. This step installs the clients of NebulaGraph, and prepare contexts that defines a NebulaGraph Graph Space . InÂ [Â ]: Copied! # Create a NebulaGraph (version 3.5.0 or newer) cluster with: # Option 0 for machines with Docker: `curl -fsSL nebula-up.siwei.io/install.sh | bash` # Option 1 for Desktop: NebulaGraph Docker Extension https://hub.docker.com/extensions/weygu/nebulagraph-dd-ext # If not, create it with the following commands from NebulaGraph's console: # CREATE SPACE llamaindex(vid_type=FIXED_STRING(256), partition_num=1, replica_factor=1); # :sleep 10; # USE llamaindex; # CREATE TAG entity(name string); # CREATE EDGE relationship(relationship string); # :sleep 10; # CREATE TAG INDEX entity_index ON entity(name(256)); % pip install ipython - ngql nebula3 - python os . environ [ \"NEBULA_USER\" ] = \"root\" os . environ [ \"NEBULA_PASSWORD\" ] = \"nebula\" # default is \"nebula\" os . environ [ \"NEBULA_ADDRESS\" ] = \"127.0.0.1:9669\" # assumed we have NebulaGraph installed locally space_name = \"llamaindex\" edge_types , rel_prop_names = [ \"relationship\" ], [ \"relationship\" ] # default, could be omit if create from an empty kg tags = [ \"entity\" ] # default, could be omit if create from an empty kg # Create a NebulaGraph (version 3.5.0 or newer) cluster with:\n# Option 0 for machines with Docker: `curl -fsSL nebula-up.siwei.io/install.sh | bash`\n# Option 1 for Desktop: NebulaGraph Docker Extension https://hub.docker.com/extensions/weygu/nebulagraph-dd-ext\n\n# If not, create it with the following commands from NebulaGraph's console:\n# CREATE SPACE llamaindex(vid_type=FIXED_STRING(256), partition_num=1, replica_factor=1);\n# :sleep 10;\n# USE llamaindex;\n# CREATE TAG entity(name string);\n# CREATE EDGE relationship(relationship string);\n# :sleep 10;\n# CREATE TAG INDEX entity_index ON entity(name(256));\n\n%pip install ipython-ngql nebula3-python\n\nos.environ[\"NEBULA_USER\"] = \"root\"\nos.environ[\"NEBULA_PASSWORD\"] = \"nebula\"  # default is \"nebula\"\nos.environ[\n    \"NEBULA_ADDRESS\"\n] = \"127.0.0.1:9669\"  # assumed we have NebulaGraph installed locally\n\nspace_name = \"llamaindex\"\nedge_types, rel_prop_names = [\"relationship\"], [\n    \"relationship\"\n]  # default, could be omit if create from an empty kg\ntags = [\"entity\"]  # default, could be omit if create from an empty kg Requirement already satisfied: ipython-ngql in /Users/loganmarkewich/llama_index/llama-index/lib/python3.9/site-packages (0.5)\nRequirement already satisfied: nebula3-python in /Users/loganmarkewich/llama_index/llama-index/lib/python3.9/site-packages (3.4.0)\nRequirement already satisfied: Jinja2 in /Users/loganmarkewich/llama_index/llama-index/lib/python3.9/site-packages (from ipython-ngql) (3.1.2)\nRequirement already satisfied: pandas in /Users/loganmarkewich/llama_index/llama-index/lib/python3.9/site-packages (from ipython-ngql) (2.0.3)\nRequirement already satisfied: httplib2>=0.20.0 in /Users/loganmarkewich/llama_index/llama-index/lib/python3.9/site-packages (from nebula3-python) (0.22.0)\nRequirement already satisfied: six>=1.16.0 in /Users/loganmarkewich/llama_index/llama-index/lib/python3.9/site-packages (from nebula3-python) (1.16.0)\nRequirement already satisfied: pytz>=2021.1 in /Users/loganmarkewich/llama_index/llama-index/lib/python3.9/site-packages (from nebula3-python) (2023.3)\nRequirement already satisfied: future>=0.18.0 in /Users/loganmarkewich/llama_index/llama-index/lib/python3.9/site-packages (from nebula3-python) (0.18.3)\nRequirement already satisfied: pyparsing!=3.0.0,!=3.0.1,!=3.0.2,!=3.0.3,<4,>=2.4.2 in /Users/loganmarkewich/llama_index/llama-index/lib/python3.9/site-packages (from httplib2>=0.20.0->nebula3-python) (3.0.9)\nRequirement already satisfied: MarkupSafe>=2.0 in /Users/loganmarkewich/llama_index/llama-index/lib/python3.9/site-packages (from Jinja2->ipython-ngql) (2.1.3)\nRequirement already satisfied: numpy>=1.20.3 in /Users/loganmarkewich/llama_index/llama-index/lib/python3.9/site-packages (from pandas->ipython-ngql) (1.25.2)\nRequirement already satisfied: tzdata>=2022.1 in /Users/loganmarkewich/llama_index/llama-index/lib/python3.9/site-packages (from pandas->ipython-ngql) (2023.3)\nRequirement already satisfied: python-dateutil>=2.8.2 in /Users/loganmarkewich/llama_index/llama-index/lib/python3.9/site-packages (from pandas->ipython-ngql) (2.8.2) WARNING: You are using pip version 21.2.4; however, version 23.2.1 is available.\nYou should consider upgrading via the '/Users/loganmarkewich/llama_index/llama-index/bin/python -m pip install --upgrade pip' command. Note: you may need to restart the kernel to use updated packages. Then we could instiatate a NebulaGraphStore , in order to create a StorageContext 's graph_store as it. InÂ [Â ]: Copied! from llama_index.core import StorageContext from llama_index.graph_stores.nebula import NebulaGraphStore graph_store = NebulaGraphStore ( space_name = space_name , edge_types = edge_types , rel_prop_names = rel_prop_names , tags = tags , ) storage_context = StorageContext . from_defaults ( graph_store = graph_store ) from llama_index.core import StorageContext\nfrom llama_index.graph_stores.nebula import NebulaGraphStore\n\ngraph_store = NebulaGraphStore(\n    space_name=space_name,\n    edge_types=edge_types,\n    rel_prop_names=rel_prop_names,\n    tags=tags,\n)\nstorage_context = StorageContext.from_defaults(graph_store=graph_store) Here, we assumed to have the same Knowledge Graph from this turtorial Perform Graph RAG Query Â¶ Finally, let's demo how to do Graph RAG towards an existing Knowledge Graph. All we need to do is to use RetrieverQueryEngine and configure the retriver of it to be KnowledgeGraphRAGRetriever . The KnowledgeGraphRAGRetriever performs the following steps: Search related Entities of the quesion/task Get SubGraph of those Entities (default 2-depth) from the KG Build Context based on the SubGraph Please note, the way to Search related Entities could be either Keyword extraction based or Embedding based, which is controlled by argument retriever_mode of the KnowledgeGraphRAGRetriever , and supported options are: \"keyword\" \"embedding\"(not yet implemented) \"keyword_embedding\"(not yet implemented) Here is the example on how to use RetrieverQueryEngine and KnowledgeGraphRAGRetriever : InÂ [Â ]: Copied! from llama_index.core.query_engine import RetrieverQueryEngine from llama_index.core.retrievers import KnowledgeGraphRAGRetriever graph_rag_retriever = KnowledgeGraphRAGRetriever ( storage_context = storage_context , verbose = True , ) query_engine = RetrieverQueryEngine . from_args ( graph_rag_retriever , ) from llama_index.core.query_engine import RetrieverQueryEngine\nfrom llama_index.core.retrievers import KnowledgeGraphRAGRetriever\n\ngraph_rag_retriever = KnowledgeGraphRAGRetriever(\n    storage_context=storage_context,\n    verbose=True,\n)\n\nquery_engine = RetrieverQueryEngine.from_args(\n    graph_rag_retriever,\n) Then we can query it like: InÂ [Â ]: Copied! from IPython.display import display , Markdown response = query_engine . query ( \"Tell me about Peter Quill?\" , ) display ( Markdown ( f \"<b> { response } </b>\" )) from IPython.display import display, Markdown\n\nresponse = query_engine.query(\n    \"Tell me about Peter Quill?\",\n)\ndisplay(Markdown(f\" {response} \")) Entities processed: ['Star', 'Lord', 'Marvel', 'Quill', 'Galaxy', 'Guardians', 'Guardians of the Galaxy', 'Star-Lord', 'Peter Quill', 'Peter'] Entities processed: ['Star', 'Lord', 'Marvel', 'Quill', 'Galaxy', 'Guardians', 'Guardians of the Galaxy', 'Star-Lord', 'Peter Quill', 'Peter'] Graph RAG context:\nThe following are knowledge sequence in max depth 2 in the form of `subject predicate, object, predicate_next_hop, object_next_hop ...` extracted based on key entities as subject:\nGuardians, is member of, Guardians, was experimented on, by the High Evolutionary\nGuardians, is member of, Guardians, considered to tell, origins\nGuardians, is member of, Guardians, origins, team-up movie\nGuardians, is member of, Guardians, befriended, his fellow Batch 89 test subjects\nGuardians, is member of, Guardians, sought to enhance and anthropomorphize animal lifeforms, to create an ideal society\nGuardians, is member of, Guardians, is creator of, Rocket\nGuardians, is member of, Guardians, is, Mantis\nGuardians, is member of, Guardians, is half-sister of, Mantis\nGuardians, is member of, Guardians, is, Kraglin\nGuardians, is member of, Guardians, developed psionic abilities, after being abandoned in outer space\nGuardians, is member of, Guardians, would portray, Cosmo\nGuardians, is member of, Guardians, recalls, his past\nGuardians, is member of, Guardians\nGuardians, is member of, Guardians, focus on, third Guardians-centric film\nGuardians, is member of, Guardians, is, Rocket\nGuardians, is member of, Guardians, backstory, flashbacks\nGuardians, is member of, Guardians, is former second-in-command of, Ravagers\nQuill, is half-sister of, Mantis, is member of, Guardians\nQuill, is half-sister of, Mantis, is, Mantis\nQuill, is in a state of depression, following the appearance of a variant of his dead lover Gamora\nQuill, is half-sister of, Mantis\nPeter Quill, is leader of, Guardians of the Galaxy, is sequel to, Guardians of the Galaxy\nPeter Quill, was raised by, a group of alien thieves and smugglers\nPeter Quill, would return to the MCU, May 2021\nPeter Quill, is leader of, Guardians of the Galaxy\nPeter Quill, is half-human, half-Celestial\nPeter Quill, was abducted from Earth, as a child\nGuardians of the Galaxy, is sequel to, Guardians of the Galaxy, released in, Dolby Cinema\nGuardians of the Galaxy, is sequel to, Guardians of the Galaxy, released on, Disney+\nGuardians of the Galaxy, is sequel to, Guardians of the Galaxy, is sequel to, Guardians of the Galaxy Vol. 2 Peter Quill is the leader of the Guardians of the Galaxy and the main protagonist of the Guardians of the Galaxy films. He was raised by a group of alien thieves and smugglers, and was abducted from Earth as a child. He is half-human, half-Celestial, and has the ability to wield an energy weapon called the Infinity Stone. He is set to return to the MCU in May 2021. InÂ [Â ]: Copied! response = await query_engine . aquery ( \"Tell me about Peter Quill?\" , ) display ( Markdown ( f \"<b> { response } </b>\" )) response = await query_engine.aquery(\n    \"Tell me about Peter Quill?\",\n)\ndisplay(Markdown(f\" {response} \")) INFO:openai:message='OpenAI API response' path=https://api.openai.com/v1/completions processing_ms=611 request_id=1c07a89e18f19ac7bbc508507c2902d9 response_code=200 Entities processed: ['Star', 'Lord', 'Marvel', 'Quill', 'Galaxy', 'Guardians', 'Guardians of the Galaxy', 'Star-Lord', 'Peter Quill', 'Peter'] INFO:openai:message='OpenAI API response' path=https://api.openai.com/v1/completions processing_ms=992 request_id=6517cb63da3364acd33e816a9b3ee242 response_code=200 Entities processed: ['Star', 'Lord', 'Marvel', 'Quill', 'Galaxy', 'Guardians', 'Guardians of the Galaxy', 'Star-Lord', 'Peter Quill', 'Peter'] Graph RAG context:\nThe following are knowledge sequence in max depth 2 in the form of `subject predicate, object, predicate_next_hop, object_next_hop ...` extracted based on key entities as subject:\nGuardians, is member of, Guardians, was experimented on, by the High Evolutionary\nGuardians, is member of, Guardians, considered to tell, origins\nGuardians, is member of, Guardians, origins, team-up movie\nGuardians, is member of, Guardians, befriended, his fellow Batch 89 test subjects\nGuardians, is member of, Guardians, sought to enhance and anthropomorphize animal lifeforms, to create an ideal society\nGuardians, is member of, Guardians, is creator of, Rocket\nGuardians, is member of, Guardians, is, Mantis\nGuardians, is member of, Guardians, is half-sister of, Mantis\nGuardians, is member of, Guardians, is, Kraglin\nGuardians, is member of, Guardians, developed psionic abilities, after being abandoned in outer space\nGuardians, is member of, Guardians, would portray, Cosmo\nGuardians, is member of, Guardians, recalls, his past\nGuardians, is member of, Guardians\nGuardians, is member of, Guardians, focus on, third Guardians-centric film\nGuardians, is member of, Guardians, is, Rocket\nGuardians, is member of, Guardians, backstory, flashbacks\nGuardians, is member of, Guardians, is former second-in-command of, Ravagers\nQuill, is half-sister of, Mantis, is member of, Guardians\nQuill, is half-sister of, Mantis, is, Mantis\nQuill, is in a state of depression, following the appearance of a variant of his dead lover Gamora\nQuill, is half-sister of, Mantis\nPeter Quill, is leader of, Guardians of the Galaxy, is sequel to, Guardians of the Galaxy\nPeter Quill, was raised by, a group of alien thieves and smugglers\nPeter Quill, would return to the MCU, May 2021\nPeter Quill, is leader of, Guardians of the Galaxy\nPeter Quill, is half-human, half-Celestial\nPeter Quill, was abducted from Earth, as a child\nGuardians of the Galaxy, is sequel to, Guardians of the Galaxy, released in, Dolby Cinema\nGuardians of the Galaxy, is sequel to, Guardians of the Galaxy, released on, Disney+\nGuardians of the Galaxy, is sequel to, Guardians of the Galaxy, is sequel to, Guardians of the Galaxy Vol. 2 INFO:openai:message='OpenAI API response' path=https://api.openai.com/v1/completions processing_ms=2384 request_id=b5a7e601affa751fbc7f957f3359a238 response_code=200 Peter Quill is the leader of the Guardians of the Galaxy and the main protagonist of the Guardians of the Galaxy films. He was raised by a group of alien thieves and smugglers, and was abducted from Earth as a child. He is half-human, half-Celestial, and has the ability to wield an energy weapon called the Infinity Stone. He is set to return to the MCU in May 2021. Include nl2graphquery as Context in Graph RAG Â¶ The nature of (Sub)Graph RAG and nl2graphquery are different. No one is better than the other but just when one fits more in certain type of questions. To understand more on how they differ from the other, see this demo comparing the two. While in real world cases, we may not always know which approach works better, thus, one way to best leverage KG in RAG are fetching both retrieval results as context and letting LLM + Prompt generate answer with them all being involved. So, optionally, we could choose to synthesise answer from two piece of retrieved context from KG: Graph RAG, the default retrieval method, which extracts subgraph that's related to the key entities in the question. NL2GraphQuery, generate Knowledge Graph Query based on query and the Schema of the Knowledge Graph, which is by default switched off. We could set with_nl2graphquery=True to enable it like: InÂ [Â ]: Copied! graph_rag_retriever_with_nl2graphquery = KnowledgeGraphRAGRetriever ( storage_context = storage_context , verbose = True , with_nl2graphquery = True , ) query_engine_with_nl2graphquery = RetrieverQueryEngine . from_args ( graph_rag_retriever_with_nl2graphquery , ) graph_rag_retriever_with_nl2graphquery = KnowledgeGraphRAGRetriever(\n    storage_context=storage_context,\n    verbose=True,\n    with_nl2graphquery=True,\n)\n\nquery_engine_with_nl2graphquery = RetrieverQueryEngine.from_args(\n    graph_rag_retriever_with_nl2graphquery,\n) InÂ [Â ]: Copied! response = query_engine_with_nl2graphquery . query ( \"What do you know about Peter Quill?\" , ) display ( Markdown ( f \"<b> { response } </b>\" )) response = query_engine_with_nl2graphquery.query(\n    \"What do you know about Peter Quill?\",\n)\ndisplay(Markdown(f\" {response} \")) Graph Store Query:\n```\nMATCH (p:`entity`)-[:`relationship`]->(m:`entity`) WHERE p.`entity`.`name` == 'Peter Quill'\nRETURN m.`entity`.`name`;\n``` Graph Store Response:\n{'m.entity.name': ['May 2021', 'as a child', 'Guardians of the Galaxy', 'a group of alien thieves and smugglers', 'half-Celestial']} Entities processed: ['Star', 'Lord', 'Marvel', 'Quill', 'Galaxy', 'Guardians', 'Guardians of the Galaxy', 'Star-Lord', 'Peter Quill', 'Peter'] Entities processed: ['Star', 'Lord', 'Marvel', 'Quill', 'Galaxy', 'Guardians', 'Guardians of the Galaxy', 'Star-Lord', 'Peter Quill', 'Peter'] Graph RAG context:\nThe following are knowledge sequence in max depth 2 in the form of `subject predicate, object, predicate_next_hop, object_next_hop ...` extracted based on key entities as subject:\nGuardians, is member of, Guardians, was experimented on, by the High Evolutionary\nGuardians, is member of, Guardians, considered to tell, origins\nGuardians, is member of, Guardians, origins, team-up movie\nGuardians, is member of, Guardians, befriended, his fellow Batch 89 test subjects\nGuardians, is member of, Guardians, sought to enhance and anthropomorphize animal lifeforms, to create an ideal society\nGuardians, is member of, Guardians, is creator of, Rocket\nGuardians, is member of, Guardians, is, Mantis\nGuardians, is member of, Guardians, is half-sister of, Mantis\nGuardians, is member of, Guardians, is, Kraglin\nGuardians, is member of, Guardians, developed psionic abilities, after being abandoned in outer space\nGuardians, is member of, Guardians, would portray, Cosmo\nGuardians, is member of, Guardians, recalls, his past\nGuardians, is member of, Guardians\nGuardians, is member of, Guardians, focus on, third Guardians-centric film\nGuardians, is member of, Guardians, is, Rocket\nGuardians, is member of, Guardians, backstory, flashbacks\nGuardians, is member of, Guardians, is former second-in-command of, Ravagers\nQuill, is half-sister of, Mantis, is member of, Guardians\nQuill, is half-sister of, Mantis, is, Mantis\nQuill, is in a state of depression, following the appearance of a variant of his dead lover Gamora\nQuill, is half-sister of, Mantis\nPeter Quill, is leader of, Guardians of the Galaxy, is sequel to, Guardians of the Galaxy\nPeter Quill, was raised by, a group of alien thieves and smugglers\nPeter Quill, would return to the MCU, May 2021\nPeter Quill, is leader of, Guardians of the Galaxy\nPeter Quill, is half-human, half-Celestial\nPeter Quill, was abducted from Earth, as a child\nGuardians of the Galaxy, is sequel to, Guardians of the Galaxy, released in, Dolby Cinema\nGuardians of the Galaxy, is sequel to, Guardians of the Galaxy, released on, Disney+\nGuardians of the Galaxy, is sequel to, Guardians of the Galaxy, is sequel to, Guardians of the Galaxy Vol. 2 Peter Quill is the leader of the Guardians of the Galaxy and was abducted from Earth as a child. He is half-human and half-Celestial, and was raised by a group of alien thieves and smugglers. He would return to the MCU in May 2021. And let's check the response's metadata to know more details of the retrival of Graph RAG with nl2graphquery by inspecting response.metadata . text2Cypher , it generates a Cypher Query towards the answer as the context. Graph Store Query : MATCH ( e : `entity` ) -[ r : `relationship` ]-> ( e2 : `entity` ) WHERE e . `entity` . `name` == 'Peter Quill' RETURN e2 . `entity` . `name` SubGraph RAG , it get the SubGraph of 'Peter Quill' to build the context. Finally, it combined the two nodes of context, to synthesize the answer. InÂ [Â ]: Copied! import pprint pp = pprint . PrettyPrinter () pp . pprint ( response . metadata ) import pprint\n\npp = pprint.PrettyPrinter()\npp.pprint(response.metadata) {'46faf6d6-8a71-44c8-ae81-794e71a62fbc': {'graph_schema': 'Node properties: '\n                                                          \"[{'tag': 'entity', \"\n                                                          \"'properties': \"\n                                                          \"[('name', \"\n                                                          \"'string')]}]\\n\"\n                                                          'Edge properties: '\n                                                          \"[{'edge': \"\n                                                          \"'relationship', \"\n                                                          \"'properties': \"\n                                                          \"[('relationship', \"\n                                                          \"'string')]}]\\n\"\n                                                          'Relationships: '\n                                                          \"['(:entity)-[:relationship]->(:entity)']\\n\",\n                                          'graph_store_query': '```\\n'\n                                                               'MATCH '\n                                                               '(p:`entity`)-[:`relationship`]->(m:`entity`) '\n                                                               'WHERE '\n                                                               'p.`entity`.`name` '\n                                                               \"== 'Peter \"\n                                                               \"Quill'\\n\"\n                                                               'RETURN '\n                                                               'm.`entity`.`name`;\\n'\n                                                               '```',\n                                          'graph_store_response': {'m.entity.name': ['May '\n                                                                                     '2021',\n                                                                                     'as '\n                                                                                     'a '\n                                                                                     'child',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy',\n                                                                                     'a '\n                                                                                     'group '\n                                                                                     'of '\n                                                                                     'alien '\n                                                                                     'thieves '\n                                                                                     'and '\n                                                                                     'smugglers',\n                                                                                     'half-Celestial']},\n                                          'query_str': 'What do you know about '\n                                                       'Peter Quill?'},\n 'def19bbf-d8ac-43b2-a121-675748cc9454': {'kg_rel_map': {'Guardians': ['Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians, '\n                                                                       'was '\n                                                                       'experimented '\n                                                                       'on, by '\n                                                                       'the '\n                                                                       'High '\n                                                                       'Evolutionary',\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians, '\n                                                                       'considered '\n                                                                       'to '\n                                                                       'tell, '\n                                                                       'origins',\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians, '\n                                                                       'origins, '\n                                                                       'team-up '\n                                                                       'movie',\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians, '\n                                                                       'befriended, '\n                                                                       'his '\n                                                                       'fellow '\n                                                                       'Batch '\n                                                                       '89 '\n                                                                       'test '\n                                                                       'subjects',\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians, '\n                                                                       'sought '\n                                                                       'to '\n                                                                       'enhance '\n                                                                       'and '\n                                                                       'anthropomorphize '\n                                                                       'animal '\n                                                                       'lifeforms, '\n                                                                       'to '\n                                                                       'create '\n                                                                       'an '\n                                                                       'ideal '\n                                                                       'society',\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'creator '\n                                                                       'of, '\n                                                                       'Rocket',\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians, '\n                                                                       'is, '\n                                                                       'Mantis',\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'half-sister '\n                                                                       'of, '\n                                                                       'Mantis',\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians, '\n                                                                       'is, '\n                                                                       'Kraglin',\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians, '\n                                                                       'developed '\n                                                                       'psionic '\n                                                                       'abilities, '\n                                                                       'after '\n                                                                       'being '\n                                                                       'abandoned '\n                                                                       'in '\n                                                                       'outer '\n                                                                       'space',\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians, '\n                                                                       'would '\n                                                                       'portray, '\n                                                                       'Cosmo',\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians, '\n                                                                       'recalls, '\n                                                                       'his '\n                                                                       'past',\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians',\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians, '\n                                                                       'focus '\n                                                                       'on, '\n                                                                       'third '\n                                                                       'Guardians-centric '\n                                                                       'film',\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians, '\n                                                                       'is, '\n                                                                       'Rocket',\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians, '\n                                                                       'backstory, '\n                                                                       'flashbacks',\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'member '\n                                                                       'of, '\n                                                                       'Guardians, '\n                                                                       'is '\n                                                                       'former '\n                                                                       'second-in-command '\n                                                                       'of, '\n                                                                       'Ravagers'],\n                                                         'Guardians of the Galaxy': ['Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'released '\n                                                                                     'in, '\n                                                                                     'Dolby '\n                                                                                     'Cinema',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'released '\n                                                                                     'on, '\n                                                                                     'Disney+',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy '\n                                                                                     'Vol. '\n                                                                                     '2',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'released '\n                                                                                     'in, '\n                                                                                     '3D',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'released '\n                                                                                     'in, '\n                                                                                     '4DX',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'grossed, '\n                                                                                     '$32 '\n                                                                                     'million '\n                                                                                     'in '\n                                                                                     'its '\n                                                                                     'third '\n                                                                                     'weekend',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'leader '\n                                                                                     'of, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'in, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy '\n                                                                                     'Vol. '\n                                                                                     '3',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'wrote '\n                                                                                     'and '\n                                                                                     'directed, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy '\n                                                                                     'Vol. '\n                                                                                     '3',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is, '\n                                                                                     'American '\n                                                                                     'superhero '\n                                                                                     'film',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'grossed, '\n                                                                                     '$845.4 '\n                                                                                     'million',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'was '\n                                                                                     'fired '\n                                                                                     'from, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy '\n                                                                                     'Vol. '\n                                                                                     '3',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'leader '\n                                                                                     'of, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'was '\n                                                                                     'abducted '\n                                                                                     'from '\n                                                                                     'Earth, '\n                                                                                     'as '\n                                                                                     'a '\n                                                                                     'child',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'grossed, '\n                                                                                     '$359 '\n                                                                                     'million '\n                                                                                     'in '\n                                                                                     'the '\n                                                                                     'United '\n                                                                                     'States '\n                                                                                     'and '\n                                                                                     'Canada',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'released '\n                                                                                     'on, '\n                                                                                     'digital '\n                                                                                     'download',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'released '\n                                                                                     'in, '\n                                                                                     'IMAX',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'leader '\n                                                                                     'of, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'half-human, '\n                                                                                     'half-Celestial',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'leader '\n                                                                                     'of, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'was '\n                                                                                     'raised '\n                                                                                     'by, '\n                                                                                     'a '\n                                                                                     'group '\n                                                                                     'of '\n                                                                                     'alien '\n                                                                                     'thieves '\n                                                                                     'and '\n                                                                                     'smugglers',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'screened '\n                                                                                     'at, '\n                                                                                     'Dongdaemun '\n                                                                                     'Design '\n                                                                                     'Plaza',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'released '\n                                                                                     'in, '\n                                                                                     'ScreenX',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'leader '\n                                                                                     'of, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'would '\n                                                                                     'return '\n                                                                                     'to '\n                                                                                     'the '\n                                                                                     'MCU, '\n                                                                                     'May '\n                                                                                     '2021',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'grossed, '\n                                                                                     '$486.4 '\n                                                                                     'million '\n                                                                                     'in '\n                                                                                     'other '\n                                                                                     'territories',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'released '\n                                                                                     'on, '\n                                                                                     'Ultra '\n                                                                                     'HD '\n                                                                                     'Blu-ray',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'released '\n                                                                                     'on, '\n                                                                                     'DVD',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'grossed, '\n                                                                                     '$92 '\n                                                                                     'million '\n                                                                                     'for '\n                                                                                     'a '\n                                                                                     'drop '\n                                                                                     'of '\n                                                                                     '40% '\n                                                                                     'from '\n                                                                                     'its '\n                                                                                     'opening '\n                                                                                     'weekend',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'premiered '\n                                                                                     'at, '\n                                                                                     'Disneyland '\n                                                                                     'Paris',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'released '\n                                                                                     'on, '\n                                                                                     'Blu-ray',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'could '\n                                                                                     'happen, '\n                                                                                     'April '\n                                                                                     '2017',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'made, '\n                                                                                     '$48.2 '\n                                                                                     'million '\n                                                                                     'on '\n                                                                                     'its '\n                                                                                     'first '\n                                                                                     'day',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'grossed, '\n                                                                                     '$168.1 '\n                                                                                     'million '\n                                                                                     'in '\n                                                                                     'its '\n                                                                                     'opening '\n                                                                                     'weekend',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'debuted '\n                                                                                     'with, '\n                                                                                     '$118.4 '\n                                                                                     'million',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'would '\n                                                                                     'likely '\n                                                                                     'center '\n                                                                                     'on, '\n                                                                                     'new '\n                                                                                     'group '\n                                                                                     'of '\n                                                                                     'characters',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'retained '\n                                                                                     'the '\n                                                                                     'top '\n                                                                                     'spot '\n                                                                                     'at '\n                                                                                     'the '\n                                                                                     'box '\n                                                                                     'office '\n                                                                                     'with, '\n                                                                                     '$62 '\n                                                                                     'million',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'be '\n                                                                                     'his '\n                                                                                     'last '\n                                                                                     'Guardians '\n                                                                                     'film, '\n                                                                                     'September '\n                                                                                     '2019',\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'is '\n                                                                                     'sequel '\n                                                                                     'to, '\n                                                                                     'Guardians '\n                                                                                     'of '\n                                                                                     'the '\n                                                                                     'Galaxy, '\n                                                                                     'nominated '\n                                                                                     'for, '\n                                                                                     'Best '\n                                                                                     'Picture'],\n                                                         'Marvel': ['Marvel, '\n                                                                    'was fired '\n                                                                    'from, '\n                                                                    'Marvel, '\n                                                                    'stated, '\n                                                                    'that in '\n                                                                    'addition '\n                                                                    'to having '\n                                                                    'the  '\n                                                                    'basic '\n                                                                    'story  '\n                                                                    'for '\n                                                                    'Guardians '\n                                                                    'of the '\n                                                                    'Galaxy '\n                                                                    'Vol.2 '\n                                                                    '(2017) '\n                                                                    'while '\n                                                                    'working '\n                                                                    'on the '\n                                                                    'first '\n                                                                    'film',\n                                                                    'Marvel, '\n                                                                    'was fired '\n                                                                    'from, '\n                                                                    'Marvel, '\n                                                                    'was '\n                                                                    'unsure, '\n                                                                    'if he '\n                                                                    'would be '\n                                                                    'involved '\n                                                                    'with a '\n                                                                    'third '\n                                                                    'Guardians '\n                                                                    'film',\n                                                                    'Marvel, '\n                                                                    'was fired '\n                                                                    'from, '\n                                                                    'Marvel, '\n                                                                    'was '\n                                                                    'privately '\n                                                                    'notified '\n                                                                    'by, Horn',\n                                                                    'Marvel, '\n                                                                    'was fired '\n                                                                    'from, '\n                                                                    'Marvel, '\n                                                                    'was fired '\n                                                                    'from, '\n                                                                    'Guardians '\n                                                                    'of the '\n                                                                    'Galaxy '\n                                                                    'Vol. 3',\n                                                                    'Marvel, '\n                                                                    'was fired '\n                                                                    'from, '\n                                                                    'Marvel',\n                                                                    'Marvel, '\n                                                                    'was fired '\n                                                                    'from, '\n                                                                    'Marvel, '\n                                                                    'wrote and '\n                                                                    'directed, '\n                                                                    'Guardians '\n                                                                    'of the '\n                                                                    'Galaxy '\n                                                                    'Vol. 3',\n                                                                    'Marvel, '\n                                                                    'was fired '\n                                                                    'from, '\n                                                                    'Marvel, '\n                                                                    'was fired '\n                                                                    'from, '\n                                                                    'Disney',\n                                                                    'Marvel, '\n                                                                    'was fired '\n                                                                    'from, '\n                                                                    'Marvel, '\n                                                                    'could '\n                                                                    'return as '\n                                                                    'director '\n                                                                    'for, '\n                                                                    'Vol.3'],\n                                                         'Peter Quill': ['Peter '\n                                                                         'Quill, '\n                                                                         'is '\n                                                                         'leader '\n                                                                         'of, '\n                                                                         'Guardians '\n                                                                         'of '\n                                                                         'the '\n                                                                         'Galaxy, '\n                                                                         'is '\n                                                                         'sequel '\n                                                                         'to, '\n                                                                         'Guardians '\n                                                                         'of '\n                                                                         'the '\n                                                                         'Galaxy',\n                                                                         'Peter '\n                                                                         'Quill, '\n                                                                         'was '\n                                                                         'raised '\n                                                                         'by, '\n                                                                         'a '\n                                                                         'group '\n                                                                         'of '\n                                                                         'alien '\n                                                                         'thieves '\n                                                                         'and '\n                                                                         'smugglers',\n                                                                         'Peter '\n                                                                         'Quill, '\n                                                                         'would '\n                                                                         'return '\n                                                                         'to '\n                                                                         'the '\n                                                                         'MCU, '\n                                                                         'May '\n                                                                         '2021',\n                                                                         'Peter '\n                                                                         'Quill, '\n                                                                         'is '\n                                                                         'leader '\n                                                                         'of, '\n                                                                         'Guardians '\n                                                                         'of '\n                                                                         'the '\n                                                                         'Galaxy',\n                                                                         'Peter '\n                                                                         'Quill, '\n                                                                         'is '\n                                                                         'half-human, '\n                                                                         'half-Celestial',\n                                                                         'Peter '\n                                                                         'Quill, '\n                                                                         'was '\n                                                                         'abducted '\n                                                                         'from '\n                                                                         'Earth, '\n                                                                         'as a '\n                                                                         'child'],\n                                                         'Quill': ['Quill, is '\n                                                                   'half-sister '\n                                                                   'of, '\n                                                                   'Mantis, is '\n                                                                   'member of, '\n                                                                   'Guardians',\n                                                                   'Quill, is '\n                                                                   'half-sister '\n                                                                   'of, '\n                                                                   'Mantis, '\n                                                                   'is, Mantis',\n                                                                   'Quill, is '\n                                                                   'in a state '\n                                                                   'of '\n                                                                   'depression, '\n                                                                   'following '\n                                                                   'the '\n                                                                   'appearance '\n                                                                   'of a '\n                                                                   'variant of '\n                                                                   'his dead '\n                                                                   'lover '\n                                                                   'Gamora',\n                                                                   'Quill, is '\n                                                                   'half-sister '\n                                                                   'of, '\n                                                                   'Mantis']},\n                                          'kg_rel_text': ['Guardians, is '\n                                                          'member of, '\n                                                          'Guardians, was '\n                                                          'experimented on, by '\n                                                          'the High '\n                                                          'Evolutionary',\n                                                          'Guardians, is '\n                                                          'member of, '\n                                                          'Guardians, '\n                                                          'considered to tell, '\n                                                          'origins',\n                                                          'Guardians, is '\n                                                          'member of, '\n                                                          'Guardians, origins, '\n                                                          'team-up movie',\n                                                          'Guardians, is '\n                                                          'member of, '\n                                                          'Guardians, '\n                                                          'befriended, his '\n                                                          'fellow Batch 89 '\n                                                          'test subjects',\n                                                          'Guardians, is '\n                                                          'member of, '\n                                                          'Guardians, sought '\n                                                          'to enhance and '\n                                                          'anthropomorphize '\n                                                          'animal lifeforms, '\n                                                          'to create an ideal '\n                                                          'society',\n                                                          'Guardians, is '\n                                                          'member of, '\n                                                          'Guardians, is '\n                                                          'creator of, Rocket',\n                                                          'Guardians, is '\n                                                          'member of, '\n                                                          'Guardians, is, '\n                                                          'Mantis',\n                                                          'Guardians, is '\n                                                          'member of, '\n                                                          'Guardians, is '\n                                                          'half-sister of, '\n                                                          'Mantis',\n                                                          'Guardians, is '\n                                                          'member of, '\n                                                          'Guardians, is, '\n                                                          'Kraglin',\n                                                          'Guardians, is '\n                                                          'member of, '\n                                                          'Guardians, '\n                                                          'developed psionic '\n                                                          'abilities, after '\n                                                          'being abandoned in '\n                                                          'outer space',\n                                                          'Guardians, is '\n                                                          'member of, '\n                                                          'Guardians, would '\n                                                          'portray, Cosmo',\n                                                          'Guardians, is '\n                                                          'member of, '\n                                                          'Guardians, recalls, '\n                                                          'his past',\n                                                          'Guardians, is '\n                                                          'member of, '\n                                                          'Guardians',\n                                                          'Guardians, is '\n                                                          'member of, '\n                                                          'Guardians, focus '\n                                                          'on, third '\n                                                          'Guardians-centric '\n                                                          'film',\n                                                          'Guardians, is '\n                                                          'member of, '\n                                                          'Guardians, is, '\n                                                          'Rocket',\n                                                          'Guardians, is '\n                                                          'member of, '\n                                                          'Guardians, '\n                                                          'backstory, '\n                                                          'flashbacks',\n                                                          'Guardians, is '\n                                                          'member of, '\n                                                          'Guardians, is '\n                                                          'former '\n                                                          'second-in-command '\n                                                          'of, Ravagers',\n                                                          'Quill, is '\n                                                          'half-sister of, '\n                                                          'Mantis, is member '\n                                                          'of, Guardians',\n                                                          'Quill, is '\n                                                          'half-sister of, '\n                                                          'Mantis, is, Mantis',\n                                                          'Quill, is in a '\n                                                          'state of '\n                                                          'depression, '\n                                                          'following the '\n                                                          'appearance of a '\n                                                          'variant of his dead '\n                                                          'lover Gamora',\n                                                          'Quill, is '\n                                                          'half-sister of, '\n                                                          'Mantis',\n                                                          'Peter Quill, is '\n                                                          'leader of, '\n                                                          'Guardians of the '\n                                                          'Galaxy, is sequel '\n                                                          'to, Guardians of '\n                                                          'the Galaxy',\n                                                          'Peter Quill, was '\n                                                          'raised by, a group '\n                                                          'of alien thieves '\n                                                          'and smugglers',\n                                                          'Peter Quill, would '\n                                                          'return to the MCU, '\n                                                          'May 2021',\n                                                          'Peter Quill, is '\n                                                          'leader of, '\n                                                          'Guardians of the '\n                                                          'Galaxy',\n                                                          'Peter Quill, is '\n                                                          'half-human, '\n                                                          'half-Celestial',\n                                                          'Peter Quill, was '\n                                                          'abducted from '\n                                                          'Earth, as a child',\n                                                          'Guardians of the '\n                                                          'Galaxy, is sequel '\n                                                          'to, Guardians of '\n                                                          'the Galaxy, '\n                                                          'released in, Dolby '\n                                                          'Cinema',\n                                                          'Guardians of the '\n                                                          'Galaxy, is sequel '\n                                                          'to, Guardians of '\n                                                          'the Galaxy, '\n                                                          'released on, '\n                                                          'Disney+',\n                                                          'Guardians of the '\n                                                          'Galaxy, is sequel '\n                                                          'to, Guardians of '\n                                                          'the Galaxy, is '\n                                                          'sequel to, '\n                                                          'Guardians of the '\n                                                          'Galaxy Vol. 2']}} Back to top Previous Knowledge Graph Query Engine Next Structured Hierarchical Retrieval"}
]